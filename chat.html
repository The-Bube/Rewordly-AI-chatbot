<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Rewordly</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="app-shell">
    <div class="card">
        <h1 class="app-title">Rewordly</h1>
        <p class="app-subtitle">
            AI writing assistant for rephrasing, tone, and clarity.
        </p>

        <div class="chat-wrapper">
            <div class="chat-window" id="chat-window">
                {% for role, msg in history %}
                    <div class="message {% if role == 'user' %}message-user{% else %}message-bot{% endif %}">
                        <div class="message-bubble">{{ msg | safe }}</div>
                        <div class="message-meta">{{ 'You' if role == 'user' else 'Rewordly' }}</div>
                    </div>
                {% endfor %}
            </div>

            <form method="post" class="chat-input-row">
                <input type="text" name="message" placeholder="Chat naturally, or paste text to rewrite..." autofocus>
                <button type="submit" name="action" value="send">Send</button>
                <button type="submit" name="action" value="reset">New chat</button>
            </form>

            <div class="tip">
                Tip: Try <b>“Make this more professional:”</b> then paste your sentence.
            </div>
        </div>
    </div>
</div>

<script>
  // Auto-scroll to bottom on load
  const chatWindow = document.getElementById("chat-window");
  if (chatWindow) chatWindow.scrollTop = chatWindow.scrollHeight;
</script>
</body>
</html>
